<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Biblioteca</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="LoginModalBlur.css">
</head>
<body>
    <header>
        <h1>Biblioteca Virtual</h1>
        <span id="welcomeUser" style="display: none;"></span>
    </header>
<!-- Main div -->
	<div id="main-div" class="div div--main">
		<!-- Modal de login -->
		<div id="login-modal-div" class="div div--modal">
			<div id="login-modal-content-div" class="div div--modal-content">
				<span class="span span--close" onclick="closeLoginModal()">&times;</span>
				<form id="login-form">
					<label for="login-form-username-input">Usuário:</label>
					<input id="login-form-username-input" type="text" required>
					<label for="login-form-password-input">Senha:</label>
					<input id="login-form-password-input" type="password" required>
					<button id="login-form-submit-button" type="submit">Entrar</button>
				</form>
			</div>
		</div>
		<!-- Menu -->
		<div id="menu-div" class="div div--menu-2">
			<a href="">Gestão de Leitores</a>
			<a href="">Gestão de Obras</a>
			<a href="">Gestão de Reservas</a>
		</div>
		<!-- Dropdown para escolher métodos -->
		<div id="method-selector-div">
		</div>
		<!-- Form para fornecer parâmetros aos métodos -->
		<div id="form-input-div">
			<!-- <div id="book-container"></div> -->
			<!-- <form id="form">
				<input type="file" id="file" required>
				<button type="submit">Entrar</button>
			</form> -->
			<!-- <form id="imageUploadForm" enctype="multipart/form-data">
				<label for="image">Upload Image:</label>
				<input type="file" id="image" name="image" accept="image/*"><br><br>
				<input type="submit" value="Upload">
			</form> -->
		</div>
		<!-- Div para mostrar resultados dos métodos -->
		<div id="form-output-div">
	
		</div>
	</div>

    <div id="search">
        <span id="categoryButtons">
            <button class="categoryButton" data-category="overall">Overall</button>
            <button class="categoryButton" data-category="leitores">Leitores</button>
            <button class="categoryButton" data-category="nucleo">Nucleo</button>
            <button class="categoryButton" data-category="obras">Obras</button>
        </span>
        <input type="text" id="buscador" placeholder="Buscar livros...">
        <button id="pesquisa">Pesquisar</button>
    </div>
	<footer>
		
	</footer>
	<script>
        // Function to highlight active menu item
        document.addEventListener("scroll", function() {
            let sections = document.querySelectorAll(".section");
            let menuLinks = document.querySelectorAll(".menu a");

            let fromTop = window.scrollY + 100; // Offset to detect section

        <form id="imageUploadForm" enctype="multipart/form-data">
            <label for="image">Upload Image:</label>
            <input type="file" id="image" name="image" accept="image/*"><br><br>
            <input type="submit" value="Upload">
        </form>
        <table id="ShowTable" border="1">
        <script>
            document.getElementById('imageUploadForm').addEventListener('submit', function(event) {
                event.preventDefault(); // Prevent form submission
    
                var formData = new FormData(event.target);
                var fileInput = document.getElementById('image');
                var file = fileInput.files[0];
    
                if (file) {
                    var reader = new FileReader();
                    reader.onload = function(e) {
                        var binaryData = e.target.result;
                        console.log('Binary Data:', binaryData);
    
                        // You can now send the binary data along with the form data
                        formData.append('binaryData', new Blob([binaryData]));
    
                        fetch(apiUrl + "teste", {
                            method: 'POST',
                            headers: {
			                    "Content-Type": "application/json",
		                    },
                            body: JSON.stringify( formData )
                        })
                        .then(response => response.json())
                        .then(data => {
                            console.log('Success:', data);
                        })
                        .catch((error) => {
                            console.error('Error:', error);
                        });
                    };
                    reader.readAsArrayBuffer(file);
                }
            });
        });
    </script>
    <script src="script.js"></script>
    <!-- <script src="biblioteca.js"></script> -->
    <script src="biblioteca-evt.js"></script>
</body>
</html>
